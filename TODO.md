# CUBE Volume Integration TODO

- [x] Create task breakdown and execution order.
- [x] Add `.cube` parser:
  - [x] Parse atom block into molecular data.
  - [x] Parse scalar grid into volume data.
  - [x] Fail explicitly on multi-value datasets.
  - [x] Convert Bohr coordinates/axes to Angstrom.
  - [x] Validate and fail on unsupported rotated/sheared grid axes.
- [x] Import pipeline:
  - [x] Accept `.cube` files in file picker.
  - [ ] Import cube as two scene objects:
    - [x] `Ligand (N atoms)` molecular object.
    - [x] `Volume (Nx×Ny×Nz)` volume object.
- [x] Scene graph and representation model:
  - [x] Add `volume` object type.
  - [x] Add `isosurface` and `volumetric` representation styles.
  - [x] Default volume representation = `isosurface`.
  - [x] Restrict style choices by selected object type.
- [x] Isosurface representation:
  - [x] Reuse marching-cubes implementation path from SES code.
  - [x] Expose iso-level in representation controls.
  - [x] Cache/rebuild only when relevant settings change.
- [ ] Volumetric representation:
  - [x] Expose controls:
    - [x] value min/max window
    - [x] opacity scale
    - [x] step size
    - [x] transfer-function preset (grayscale/heatmap)
  - [x] Drive ray-marched volume uniforms from selected volume representation.
  - [ ] Ensure updates only trigger necessary texture/uniform refresh.
- [ ] Tests:
  - [x] Cube parser unit tests.
  - [x] Scene graph tests for volume object + default representation.
  - [x] Representation gating tests for molecular vs volume objects.
  - [ ] Isosurface build test from parsed cube volume.
